<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Forums - Arcator</title>
    <link href="./master.css" rel="stylesheet">
    <link href="./forums.css" rel="stylesheet">
    <link href="./favicon.png" rel="icon" type="image/png">
</head>
<body class="bg-surface text-text">
<div id="navbar-placeholder"></div>

<section class="hero-banner">
    <img alt="Hero" class="hero-image" src="./creativespawn.png">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1>Forums &amp; Messages</h1>
        <p>Community discussions and conversations</p>
    </div>
</section>

<main class="container mx-auto px-4 py-8 forums-main">
    <div class="tabs">
        <button class="tab-btn active" id="forums-tab-btn">Forums</button>
        <button class="tab-btn" id="messages-tab-btn">Messages</button>
    </div>

    <!-- Forums Tab -->
    <div class="tab-content active" id="forums-tab">
        <div class="mb-8 flex justify-between items-center">
            <h2 class="section-title">Forums</h2>
            <button class="link-btn" id="create-thread-btn">Create Thread</button>
        </div>

        <div class="create-form" id="create-thread-form">
            <h3 class="form-subtitle">Create New Thread</h3>
            <form id="new-thread-form">
                <div>
                    <label for="thread-title">Title</label>
                    <input class="input-transparent" id="thread-title" required type="text">
                </div>
                <div>
                    <label for="thread-description">Description</label>
                    <textarea class="input-transparent" id="thread-description" required rows="4"></textarea>
                </div>
                <div class="form-grid-2col">
                    <div>
                        <label for="thread-category">Category</label>
                        <select class="input-transparent" id="thread-category" required>
                            <option value="">Select category...</option>
                            <option value="announcements">Announcements</option>
                            <option value="gaming">Gaming</option>
                            <option value="discussion">Discussion</option>
                            <option value="support">Support</option>
                            <option value="feedback">Feedback</option>
                        </select>
                    </div>
                    <div>
                        <label for="thread-tags">Tags (comma-separated)</label>
                        <input class="input-transparent" id="thread-tags" type="text">
                    </div>
                </div>
                <div class="form-actions">
                    <button class="link-btn-secondary" id="cancel-thread-btn" type="button">Cancel</button>
                    <button class="link-btn-submit" type="submit">Post</button>
                </div>
            </form>
        </div>

        <div id="forums-list">
            <div class="skeleton-loader">
                <div class="skeleton-pulse">
                    <div class="skeleton-block"></div>
                    <div class="skeleton-block"></div>
                    <div class="skeleton-block"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Messages Tab -->
    <div class="tab-content" id="messages-tab">
        <h2 class="section-title-messages">Messages</h2>
        <div class="action-wrapper">
            <button class="link-btn" id="create-message-btn">New Message</button>
        </div>

        <div class="create-form" id="create-message-form">
            <h3 class="form-subtitle">Start New Conversation</h3>
            <div class="field-group">
                <label for="recipient-search">Search User (ID, Name, or @DisplayName)</label>
                <input class="search-input" id="recipient-search" placeholder="Enter user ID, name, or @displayname..." type="text">
                <div class="search-results-dropdown" id="search-results"></div>
            </div>
            <div class="form-actions">
                <button class="link-btn-secondary" id="cancel-message-btn" type="button">Cancel</button>
                <button class="link-btn" disabled id="start-conversation-btn" type="button">Start Conversation</button>
            </div>
        </div>

        <div class="dm-container">
            <div class="dm-list" id="dm-list"></div>
            <div class="dm-messages">
                <div class="dm-header" id="dm-header">Select a conversation</div>
                <div class="dm-body" id="dm-body"></div>
                <div class="dm-form" id="dm-form">
                    <label class="sr-only" for="dm-input">Message</label>
                    <input class="input-transparent" id="dm-input" placeholder="Type a message..." type="text">
                    <button class="link-btn-send" id="dm-send-btn">Send</button>
                </div>
            </div>
        </div>
    </div>
</main>

<div id="footer-placeholder"></div>

<script type="module" src="./forums-manager.js"></script>
</body>
</html>